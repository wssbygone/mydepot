use utf8_slice;

fn main() {

    let arr: [char; 3] = ['ä¸­', 'å›½', 'äºº'];
    let slice = &arr[..2];
    println!("[{:?}]",slice);

    let s = "The ğŸš€ä¸­å›½ goes to the ğŸŒ‘!";
    let rocket = utf8_slice::slice(s, 4, 12);
    println!("[{}]",rocket);  // ç»“æœæ˜¯ "ğŸš€"

  let csv_line = "name,age,country\nAlice,25,USA";
  let header = csv_line.lines().next().unwrap();
  /*
  let mut lines = csv_line.lines(); // è·å–è¿­ä»£å™¨
  let first_line = lines.next();    // å–ç¬¬ä¸€ä¸ªå…ƒç´ : Some("name,age,country")
  let header = first_line.unwrap(); // è§£åŒ…å¾—åˆ° "name,age,country"
  */
  println!("{}",header);
  let fields: Vec<_> = header.split(',').map(|s| s.trim()).collect();
  assert_eq!(fields, vec!["name", "age", "country"]);    


    let mut string_replace =  String::from("I like rust. Learning rust is my favorite!") ;
    string_replace.replace_range(7..11, "RUST");
    // dbg!(string_replace);


    let mut string_pop = String::from("rust pop ä¸­æ–‡!");
    let p1 = string_pop.pop();
    let p2 = string_pop.pop();
    dbg!(p1);
    dbg!(p2);
    dbg!(string_pop);


    let mut string_remove = String::from("æµ‹è¯•removeæ–¹æ³•");
    println!(
        "string_remove å  {} ä¸ªå­—èŠ‚",
        std::mem::size_of_val(&string_remove)
    );
    // åˆ é™¤ç¬¬ä¸€ä¸ªæ±‰å­—
    string_remove.remove(0);
    // ä¸‹é¢ä»£ç ä¼šå‘ç”Ÿé”™è¯¯
    // string_remove.remove(1);
    // ç›´æ¥åˆ é™¤ç¬¬äºŒä¸ªæ±‰å­—
    // string_remove.remove(3);
    dbg!(string_remove);


    let s1 = String::from("hello,");
    let s2 = String::from("world!");
    // åœ¨ä¸‹å¥ä¸­ï¼Œs1çš„æ‰€æœ‰æƒè¢«è½¬ç§»èµ°äº†ï¼Œå› æ­¤åé¢ä¸èƒ½å†ä½¿ç”¨s1
    let s3 = s1.clone() + &s2;
    assert_eq!(s3,"hello,world!");
    // ä¸‹é¢çš„è¯­å¥å¦‚æœå»æ‰æ³¨é‡Šï¼Œå°±ä¼šæŠ¥é”™
    println!("~~{}~~",s1);

    let s1 = "hello";
    let s2 = String::from("rust");
    let s = format!("{} {}!", s1, s2);
    println!("{}", s);
    println!("{} {}",s1,s2);

    println!("{}", "hello \\x52\\x75\\x73\\x74");
    let raw_str = r"Escapes don't work here: \x3F \u{211D}";
    println!("{}", raw_str);
    // å¦‚æœå­—ç¬¦ä¸²åŒ…å«åŒå¼•å·ï¼Œå¯ä»¥åœ¨å¼€å¤´å’Œç»“å°¾åŠ  #
    let quotes = r#"And then I said: "There is no escape!""#;
    println!("{}", quotes);
    // å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å« # å·ï¼Œå¯ä»¥åœ¨å¼€å¤´å’Œç»“å°¾åŠ å¤šä¸ª # å·ï¼Œæœ€å¤šåŠ 255ä¸ªï¼Œåªéœ€ä¿è¯ä¸å­—ç¬¦ä¸²ä¸­è¿ç»­ # å·çš„ä¸ªæ•°ä¸è¶…è¿‡å¼€å¤´å’Œç»“å°¾çš„ # å·çš„ä¸ªæ•°å³å¯
    let longer_delimiter = r###"A string with "# in it. And even "##!"###;
    println!("{}", longer_delimiter);


}
